<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å— &mdash; dolphin</title><link rel="stylesheet" href="http://localhost:4000/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/components/collection.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/components/repo-card.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/sections/repo-list.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/components/boxed-group.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/globals/common.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/globals/responsive.css"><link rel="stylesheet" href="http://localhost:4000/assets/css/posts/index.css"><link rel="stylesheet" href="http://localhost:4000/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://mazhuang.org/rouge-themes/dist/github.css"><link rel="stylesheet" href="http://localhost:4000/assets/vendor/share.js/dist/css/share.min.css"><link rel="canonical" href="http://localhost:4000/2021/06/18/2.1-phantom-prolbem/"><link rel="alternate" type="application/atom+xml" title="dolphin" href="http://localhost:4000/feed.xml"><link rel="shortcut icon" href="http://localhost:4000/favicon.png"><meta property="og:title" content="å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å—"><meta name="keywords" content="å¹»è¯», éš”ç¦»çº§åˆ«, mvcc, nextkeylock"><meta name="og:keywords" content="å¹»è¯», éš”ç¦»çº§åˆ«, mvcc, nextkeylock"><meta name="description" content="1ã€å…³äºå¹»è¯»çš„å‡ ä¸ªé—®é¢˜"><meta name="og:description" content="1ã€å…³äºå¹»è¯»çš„å‡ ä¸ªé—®é¢˜"><meta property="og:url" content="http://localhost:4000/2021/06/18/2.1-phantom-prolbem/"><meta property="og:site_name" content="dolphin"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2021-06-18"><title>å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å— | dolphin</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å—" /><meta name="author" content="DempeZheng" /><meta property="og:locale" content="en_US" /><meta name="description" content="some word here" /><meta property="og:description" content="some word here" /><link rel="canonical" href="http://localhost:4000/2021/06/18/2.1-phantom-prolbem/" /><meta property="og:url" content="http://localhost:4000/2021/06/18/2.1-phantom-prolbem/" /><meta property="og:site_name" content="dolphin" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-06-18T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å—" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"DempeZheng"},"dateModified":"2021-06-18T00:00:00+08:00","datePublished":"2021-06-18T00:00:00+08:00","description":"some word here","headline":"å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å—","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2021/06/18/2.1-phantom-prolbem/"},"url":"http://localhost:4000/2021/06/18/2.1-phantom-prolbem/"}</script> <script src="http://localhost:4000/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="http://localhost:4000/assets/js/jquery-ui.js"></script> <script src="http://localhost:4000/assets/js/main.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-RWCQYNELFN"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-RWCQYNELFN'); </script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1> <a href="http://localhost:4000/" title="dolphin"> <span class="octicon octicon-mark-github"></span> dolphin </a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="http://localhost:4000/" class="site-header-nav-item" target="_self" title="ğŸ“°é¦–é¡µ"> <i class="octicon octicon-home"></i> ğŸ“°é¦–é¡µ </a> <a href="http://localhost:4000/categories/" class="site-header-nav-item" target="_self" title="åˆ†ç±»"> <i class="octicon octicon-book"></i> åˆ†ç±» </a> <a href="http://localhost:4000/wiki/" class="site-header-nav-item" target="_self" title="ç»´åŸº"> <i class=""></i> ç»´åŸº </a> <a href="http://localhost:4000/links/" class="site-header-nav-item" target="_self" title="é“¾æ¥"> <i class="octicon octicon-mail"></i> é“¾æ¥ </a> <a href="http://localhost:4000/about/" class="site-header-nav-item" target="_self" title="å…³äº"> <i class="octicon octicon-person"></i> å…³äº </a> <a class="mobile-hidden" href="http://localhost:4000/feed.xml" title="è®¢é˜… RSS"> <i class="octicon octicon-rss" style="color:orange;"></i> </a></nav></div></header><section class="collection-head small " data-pattern-id="55"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">å…³äºå¹»è¯»ï¼Œä½ çœŸçš„æ˜ç™½å—</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2021/06/18 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="http://localhost:4000/categories/#æŠ€æœ¯" title="æŠ€æœ¯">æŠ€æœ¯</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> å…± 2992 å­—ï¼Œçº¦ 9 åˆ†é’Ÿ </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><h2 id="1å…³äºå¹»è¯»çš„å‡ ä¸ªé—®é¢˜">1ã€å…³äºå¹»è¯»çš„å‡ ä¸ªé—®é¢˜</h2><p>å¹»è¯»æ˜¯ç­”è¾©å’Œé¢è¯•çš„çƒ­ç‚¹è€ƒç‚¹ï¼Œç„¶è€Œå¹»è¯»æœ¬èº«çš„å®šä¹‰éå¸¸æ¨¡ç³Šï¼Œå…³äºå¹»è¯»çš„è§£è¯»ä¹Ÿæ˜¯äººäº‘äº¦äº‘ï¼Œç½‘ä¸Šæœ‰å„ç§ç‰ˆæœ¬ï¼Œå¾ˆå¤šäººå¯¹å¹»è¯»ä¹Ÿæ˜¯ä¼¼æ‡‚éæ‡‚ã€‚å¦‚æœä½ ä¸ç¡®å®šè‡ªå·±æ˜¯å¦çœŸæ­£ç†è§£äº†å¹»è¯»ï¼Œä¸å¦¨å…ˆé—®è‡ªå·±ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š</p><p>1ã€ä»€ä¹ˆæ˜¯å¹»è¯»ï¼Œå¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>2ã€InnoDB RRéš”ç¦»çº§åˆ«æ˜¯æ€ä¹ˆé¿å…å¹»è¯»ï¼ŸMVCCè¿˜æ˜¯next-key locks?</p><p>3ã€Mysqlçš„å¯é‡å¤è¯»çº§åˆ«çœŸçš„èƒ½è§£å†³å¹»è¯»å—ï¼Ÿ</p><h2 id="2ä»€ä¹ˆæ˜¯å¹»è¯»">2ã€ä»€ä¹ˆæ˜¯å¹»è¯»</h2><h3 id="21-å¹»è¯»çš„å®šä¹‰">2.1 å¹»è¯»çš„å®šä¹‰</h3><p>Mysqlå®˜ç½‘ï¼š</p><blockquote><p>The so-called phantom problem occurs within a transaction when the same query produces different sets of rows at different times. For example, if a select is executed twice, but returns a row the second time that was not returned the first time, the row is a â€œphantomâ€ row</p></blockquote><p>ç»´åŸºç™¾ç§‘ï¼š</p><blockquote><p>åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå½“ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„æŸ¥è¯¢è¯­å¥æ‰§è¡Œå¾—åˆ°ä¸åŒçš„ç»“æœé›†ã€‚è¿™ç§ç°è±¡ç§°ä¸ºâ€œå¹»å½±è¯»ï¼ˆphantom readï¼‰â€</p></blockquote><h3 id="22-å¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«">2.2 å¹»è¯»å’Œä¸å¯é‡å¤è¯»çš„åŒºåˆ«</h3><p>ä¸å¯é‡å¤è¯»ç»´åŸºç™¾ç§‘:</p><blockquote><p>åœ¨ä¸€æ¬¡äº‹åŠ¡ä¸­ï¼Œå½“ä¸€è¡Œæ•°æ®è·å–ä¸¤éå¾—åˆ°ä¸åŒçš„ç»“æœè¡¨ç¤ºå‘ç”Ÿäº†â€œä¸å¯é‡å¤è¯»â€.</p></blockquote><p>åŒä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡æäº¤äº†æ–°æ•°æ®ï¼Œå› æ­¤æœ¬äº‹åŠ¡å…ˆåä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®ç»“æœä¼šä¸ä¸€è‡´;</p><p>å¹»è¯»æŒ‡ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„æŸ¥è¯¢è¯­å¥æ‰§è¡Œå¾—åˆ°ä¸åŒçš„ç»“æœé›†ï¼Œä¾§é‡<strong>ç»“æœé›†ï¼ˆsets of rowsï¼‰</strong>ä¸åŒï¼Œè€Œä¸å¯é‡å¤è¯»å¼ºè°ƒä¸¤æ¬¡è¯»çš„ç»“æœä¸ä¸€è‡´ã€‚å¹»è¯»æ˜¯ä¸å¯é‡å¤è¯»çš„ä¸€ç§ç‰¹æ®Šåœºæ™¯Â¹ï¼ˆå‡ºè‡ªç»´åŸºç™¾ç§‘ï¼‰ã€‚</p><p>ã€æ³¨ã€‘<em>å¹¿ä¹‰çš„è®²ï¼Œå¹»è¯»æ˜¯ä¸å¯é‡å¤è¯»çš„ä¸€ç§ç‰¹ä¾‹ï¼›</em></p><h2 id="3innodb-rréš”ç¦»çº§åˆ«ä¸‹æ€ä¹ˆé¿å…å¹»è¯»">3ã€InnoDB RRéš”ç¦»çº§åˆ«ä¸‹æ€ä¹ˆé¿å…å¹»è¯»</h2><p>Mysqlæ€ä¹ˆé¿å…å¹»è¯»ï¼Œã€Šé«˜æ€§èƒ½çš„Mysqlã€‹è¯´æ˜¯MVCCè§£å†³å¹»è¯»ï¼Œã€Šæ·±å…¥Mysql InnoDBå­˜å‚¨å¼•æ“ã€‹ä¸Šé¢è¯´æ˜¯next-key lockingè§£å†³äº†å¹»è¯»ã€‚åˆ°åº•æ˜¯MVCCè§£å†³äº†å¹»è¯»è¿˜æ˜¯next-key lockè§£å†³äº†å¹»è¯»å‘¢ï¼Ÿ</p><p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢å‡ ä¸ªåœºæ™¯ï¼š</p><p>é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€å¼ childè¡¨ï¼Œæ’å…¥90ã€102æ•°æ®ï¼Œå¹¶ä¸”è®²äº‹åŠ¡éš”ç¦»çº§åˆ«è®¾ç½®read committedï¼›</p><pre><code class="language-SQL">create` `table` ``child` (``  ```id` ``int` `(11)``);``insert` `into` ``child` (`id`) ``values``(``'90'``);``insert` `into` ``child` (`id`) ``values``(``'102'``);
set` `global` `transaction` `isolation` `level` `read` `committed``;
</code></pre><h4 id="case1å½“å‰è¯»">Case1ï¼šå½“å‰è¯»</h4><table><thead><tr><th style="text-align: left">Â </th><th style="text-align: left">t1</th><th style="text-align: left">t2</th></tr></thead><tbody><tr><td style="text-align: left">1</td><td style="text-align: left">begin;</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100 FOR UPDATE;<br />+â€”â€“+ | id | +â€”â€“+ | 102 | +â€”â€“+</td><td style="text-align: left">begin ;</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Â </td><td style="text-align: left">insert child into (id) values(101);(RRçº§åˆ«ä¸‹è¿™é‡Œä¸ºé˜»å¡ä½)</td></tr><tr><td style="text-align: left">4</td><td style="text-align: left">Â </td><td style="text-align: left">commit;</td></tr><tr><td style="text-align: left">5</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100 FOR UPDATE;<br />+â€”â€“+ | id | +â€”â€“+ | 101 | | 102 | +â€”â€“+</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">6</td><td style="text-align: left">commit;</td><td style="text-align: left">Â </td></tr></tbody></table><p>åœ¨RCéš”ç¦»çº§åˆ«ä¸‹ï¼Œt1åœ¨ç¬¬5æ­¥çš„æ—¶å€™è¯»å–åˆ°101è¿™ä¸ªå¹»å½±ï¼Œå‡ºç°äº†å¹»è¯»ï¼›</p><p>InnoDBç”¨next-key lockingç®—æ³•é¿å…å¹»è¯»ï¼ˆTo prevent phantoms, <code class="language-plaintext highlighter-rouge">InnoDB</code> uses an algorithm called next-key locking that combines index-row locking with gap locking.ï¼‰ï¼›</p><p>next-key locking ç›¸å…³è§ <a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html"> InnoDB Locking</a></p><h4 id="case-2å¿«ç…§è¯»">Case 2:å¿«ç…§è¯»</h4><table><thead><tr><th style="text-align: left">Â </th><th style="text-align: left">t1</th><th style="text-align: left">t2</th></tr></thead><tbody><tr><td style="text-align: left">1</td><td style="text-align: left">begin;</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100;<br />+â€”â€“+ | id | +â€”â€“+ | 102| +â€”â€“+</td><td style="text-align: left">begin ;</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Â </td><td style="text-align: left">insert child into (id) values(101);</td></tr><tr><td style="text-align: left">4</td><td style="text-align: left">Â </td><td style="text-align: left">commit;</td></tr><tr><td style="text-align: left">5</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100;<br /> +â€”â€“+ | id | +â€”â€“+ | 102 | +â€”â€“+</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">6</td><td style="text-align: left">commit;</td><td style="text-align: left">Â </td></tr></tbody></table><p>åœ¨RCéš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡t1åœ¨ç¬¬2æ­¥å’Œç¬¬5æ­¥å¿«ç…§è¯»ï¼Œè¯»å–çš„ç»“æœä¸€æ ·ï¼Œæ²¡æœ‰å‡ºç°å¹»è¯»ï¼Œè¿™é‡Œé¿å…å¹»è¯»çš„ä¸»è¦æ˜¯ä¾èµ–Mysql MVCCæœºåˆ¶ï¼›</p><p>æ¯ä¸ªäº‹åŠ¡è¯»åˆ°çš„æ•°æ®é¡¹éƒ½æ˜¯ä¸€ä¸ªå†å²å¿«ç…§ï¼ˆsnapshot)å¹¶ä¾èµ–äºå®ç°çš„éš”ç¦»çº§åˆ«ã€‚å†™æ“ä½œä¸è¦†ç›–å·²æœ‰æ•°æ®é¡¹ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œç›´è‡³æ‰€åœ¨æ“ä½œæäº¤æ—¶æ‰å˜ä¸ºå¯è§ã€‚</p><p>MVCCè¯¦è§ï¼š<a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html">InnoDB Multi-Versioning</a> ï¼ˆå¾…è¡¥å……ï¼‰</p><h4 id="case3å¿«ç…§è¯»å½“å‰è¯»">Case3ï¼šå¿«ç…§è¯»+å½“å‰è¯»</h4><table><thead><tr><th style="text-align: left">Â </th><th style="text-align: left">t1</th><th style="text-align: left">t2</th></tr></thead><tbody><tr><td style="text-align: left">1</td><td style="text-align: left">begin;</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">2</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100;<br />+â€”â€“+ | id | +â€”â€“+ | 102 | +â€”â€“+</td><td style="text-align: left">begin ;</td></tr><tr><td style="text-align: left">3</td><td style="text-align: left">Â </td><td style="text-align: left">insert child into (id) values(101);</td></tr><tr><td style="text-align: left">4</td><td style="text-align: left">Â </td><td style="text-align: left">commit;</td></tr><tr><td style="text-align: left">5</td><td style="text-align: left">SELECT * FROM child WHERE id &gt; 100 FOR UPDATE;<br />+â€”â€“+ | id | +â€”â€“+ | 101 | | 102 | +â€”â€“+</td><td style="text-align: left">Â </td></tr><tr><td style="text-align: left">6</td><td style="text-align: left">commit;</td><td style="text-align: left">Â </td></tr></tbody></table><p>äº‹åŠ¡t1åœ¨ç¬¬2æ­¥å’Œç¬¬5æ­¥å½“å‰è¯»ï¼Œè¯»å–åˆ°101è¿™ä¸ªå¹»å½±ï¼Œé‚£è¿™ä¸ªç®—ä¸ç®—å¹»è¯»çš„èŒƒç•´å‘¢ï¼Ÿ</p><p>ç°åœ¨å¤§å®¶æ¯”è¾ƒå®¹æ˜“çš„æ¥å—çš„ç†è§£ä¸€æ¬¡å½“å‰è¯»å’Œä¸€æ¬¡å¿«ç…§è¯»ä¸å±äºå¹»è¯»çš„èŒƒç•´ï¼Œ</p><blockquote><p>ä¸èƒ½æŠŠå¿«ç…§è¯»å’Œå½“å‰è¯»å¾—åˆ°çš„ç»“æœä¸ä¸€æ ·è¿™ç§æƒ…å†µè®¤ä¸ºæ˜¯å¹»è¯»ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„ä½¿ç”¨</p></blockquote><h2 id="ç»“è®º">ç»“è®ºï¼š</h2><p>1ã€åœ¨å¿«ç…§è¯»è¯»æƒ…å†µä¸‹ï¼Œmysqlé€šè¿‡mvccæ¥é¿å…å¹»è¯»ã€‚ 2ã€åœ¨å½“å‰è¯»è¯»æƒ…å†µä¸‹ï¼Œmysqlé€šè¿‡next-keyæ¥é¿å…å¹»è¯»ã€‚</p><ul><li>select * from t where a=1;å±äºå¿«ç…§è¯»</li><li>select * from t where a=1 lock in share mode;å±äºå½“å‰è¯»</li></ul><p>3ã€ä¸èƒ½æŠŠå¿«ç…§è¯»å’Œå½“å‰è¯»å¾—åˆ°çš„ç»“æœä¸ä¸€æ ·è¿™ç§æƒ…å†µè®¤ä¸ºæ˜¯å¹»è¯»ï¼Œè¿™æ˜¯ä¸¤ç§ä¸åŒçš„ä½¿ç”¨ã€‚æ‰€ä»¥æˆ‘è®¤ä¸ºmysqlçš„rrçº§åˆ«æ˜¯è§£å†³äº†å¹»è¯»çš„ã€‚</p><h2 id="4æ€»ç»“">4ã€æ€»ç»“</h2><p>1ã€å¹»è¯»æŒ‡ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„æŸ¥è¯¢è¯­å¥æ‰§è¡Œå¾—åˆ°ä¸åŒçš„ç»“æœé›†ï¼Œä¾§é‡<strong>ç»“æœé›†ï¼ˆsets of rowsï¼‰</strong>ä¸åŒï¼Œè€Œä¸å¯é‡å¤è¯»å¼ºè°ƒä¸¤æ¬¡è¯»çš„ç»“æœä¸ä¸€è‡´ã€‚å¹»è¯»æ˜¯ä¸å¯é‡å¤è¯»çš„ä¸€ç§ç‰¹æ®Šåœºæ™¯ï¼›</p><p>2ã€ANSI SQL-92æ ‡å‡†ä¸‹ï¼ŒRRçº§åˆ«æ˜¯å…è®¸å¹»è¯»ï¼›ä½†æ˜¯Mysql InnoDBçš„å®ç°æ²¡æœ‰å®Œå…¨éµå¾ªANSI SQL-92çš„æ ‡å‡†ï¼Œé€šè¿‡next-key locké¿å…äº†å¹»è¯»ï¼›</p><p>3ã€Mysql InnoDBåœ¨å¿«ç…§è¯»è¯»æƒ…å†µä¸‹ï¼Œé€šè¿‡mvccæ¥é¿å…å¹»è¯»ï¼›åœ¨å½“å‰è¯»è¯»æƒ…å†µä¸‹ï¼Œé€šè¿‡next-key lockæ¥é¿å…å¹»è¯»ï¼›</p><p>4ã€æˆ‘ä»¬è®¤ä¸ºå¿«ç…§è¯»å’Œå½“å‰è¯»æ··åˆçš„æƒ…å†µï¼Œå› ä¸ºç±»ä¼¼å¹»è¯»è¯»ç°è±¡ä¸å±äºå¹»è¯»è¯»èŒƒç•´ã€‚</p><h2 id="å‚è€ƒæ–‡æ¡£">å‚è€ƒæ–‡æ¡£ï¼š</h2><p>https://dev.mysql.com/doc/refman/8.0/en/innodb-next-key-locking.html</p><p>https://github.com/Yhzhtk/note/issues/42</p><p>http://mysql.taobao.org/monthly/2017/06/07/</p><p>https://zh.wikipedia.org/wiki/%E4%BA%8B%E5%8B%99%E9%9A%94%E9%9B%A2</p><p>https://github.com/Yhzhtk/note/issues/42</p><p>http://mysql.taobao.org/monthly/2017/06/07/</p></article><div class="share"><div class="share-component" data-disabled='qq,douban,qzone,linkedin'></div></div><div class="comment"><div id="gitalk-container"></div><link rel="stylesheet" href="http://localhost:4000/assets/vendor/gitalk/gitalk.css"> <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> <script> var gitalk = new Gitalk({ id: '/2021/06/18/2.1-phantom-prolbem/', clientID: 'Ov23li6FmCJDmAIlZmNK', clientSecret: '81bd012195b582aa2cabb7d2d472dd173353beef', repo: 'blog-comments', owner: 'HeroesZheng', admin: ['HeroesZheng'], labels: ['gitment'], perPage: 50, }); gitalk.render('gitalk-container'); </script></div></div><div class="column one-fourth"><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="http://localhost:4000/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> Â© 2015 <span title="DempeZheng">DempeZheng</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="http://localhost:4000/" title="ğŸ“°é¦–é¡µ" target="">ğŸ“°é¦–é¡µ</a></li><li> <a href="http://localhost:4000/categories/" title="åˆ†ç±»" target="">åˆ†ç±»</a></li><li> <a href="http://localhost:4000/wiki/" title="ç»´åŸº" target="">ç»´åŸº</a></li><li> <a href="http://localhost:4000/links/" title="é“¾æ¥" target="">é“¾æ¥</a></li><li> <a href="http://localhost:4000/about/" title="å…³äº" target="">å…³äº</a></li><li><a href="http://localhost:4000/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="å›åˆ°é¡¶éƒ¨"><span class="octicon octicon-arrow-up"></span></a></div><script src="http://localhost:4000/assets/vendor/share.js/dist/js/share.min.js"></script> <script src="http://localhost:4000/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
